export const PointerEvents = () => {

    const HOVER_COLOR = 'rebeccapurple'
    const LEAVE_COLOR = 'green'

    /**
     * This demo shows how to handle pointer events.
     */
    const [diffuse, setDiffuse] = useState('green')
    const [shape, setShape] = useState('box')
    const material = useMaterial({ diffuse })

    const onClick = () => setShape((shape) => shape === 'box' ? 'sphere' : 'box')
    const onHover = () => setDiffuse(HOVER_COLOR)
    const onLeave = () => setDiffuse(LEAVE_COLOR)

    useEffect(() => {
        document.body.style.cursor = diffuse === LEAVE_COLOR ? 'default' : 'pointer'
    }, [diffuse])

    return <Entity>

        <EnvAtlasComponent src='/environment-map.png' />

        {/* Render the background grid */}
        <Grid />

        {/* Create a camera entity */}
        <Entity name='camera' position={[4, 3, 4]}>
            <Camera clearColor='#a8a8a8' fov={28} />
            <OrbitControls inertiaFactor={0.07} distanceMin={6} distanceMax={10} pitchAngleMin={1} pitchAngleMax={90}/>
            <AutoRotate />
        </Entity>

        {/* Create the right box entity */}
        <Entity position={[0, 0.5, 0]}
            onClick={onClick}
            onPointerOver={onHover}
            onPointerOut={onLeave}
        >
            <Render type={shape} material={material} />
            <ShadowCatcher width={5} depth={5} />
        </Entity>
        
    </Entity>
}

<PointerEvents />