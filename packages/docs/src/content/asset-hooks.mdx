export const AssetHooksDemo = () => {
    return (
        <Entity>
            <EnvAtlasComponent src='/environment-map.png' intensity={2}/>
            <Grid />
            <Entity name='camera' position={[4, 3, 4]}>
                <Camera clearColor='#111111' fov={28} />
                <OrbitControls inertiaFactor={0.07} distanceMin={6} distanceMax={10} pitchAngleMin={1} pitchAngleMax={90}/>
                <AutoRotate />
                <StaticPostEffects bloom={{ intensity: 0.02 }} vignette={false} fringing={{ intensity: 3 }}/>
            </Entity>
        </Entity>
    );
}

<AssetHooksDemo />

# Asset Hooks

PlayCanvas React provides several hooks for loading and managing assets in your 3D applications. These hooks simplify the process of loading textures, models, splats, and other assets.

## Available Hooks

### useAsset

The base hook for loading any type of asset.

```tsx
const { asset, loading, error } = useAsset(src, type, props);
```

<TSDoc
  code={`
  import { Asset } from 'playcanvas';
  
  /**
   * Result of an asset loading operation
   */
  export interface AssetResult {
    /** The loaded asset, or null if not loaded or failed */
    asset: Asset | null;
    /** Whether the asset is currently loading */
    loading: boolean;
    /** Error message if loading failed, or null if successful */
    error: string | null;
  }
  
  /**
   * Simple hook to fetch an asset from the asset registry.
   * 
   * @param src - The source URL of the asset.
   * @param type - The type of the asset (must be one of: texture, gsplat, container, model).
   * @param props - Additional properties to pass to the asset loader.
   * @returns An object containing the asset, loading state, and any error.
   */
  export const useAsset = (
    src: string, 
    type: string, 
    props: Record<string, unknown> = {}
  ): AssetResult => {
    // Implementation...
  }
  `}
/>

#### Example

```tsx
const { asset, loading, error } = useAsset('model.glb', 'container');

if (loading) return <LoadingSpinner />;
if (error) return <ErrorMessage message={error} />;
if (!asset) return null;

return <Render asset={asset} />;
```

### useSplat

A specialized hook for loading Gaussian Splat assets.

```tsx
const { asset, loading, error } = useSplat(src, props);
```

<TSDoc
  code={`
  import { Asset } from 'playcanvas';
  
  /**
   * Result of an asset loading operation
   */
  export interface AssetResult {
    /** The loaded asset, or null if not loaded or failed */
    asset: Asset | null;
    /** Whether the asset is currently loading */
    loading: boolean;
    /** Error message if loading failed, or null if successful */
    error: string | null;
  }
  
  /**
   * Simple hook to fetch a splat asset from the asset registry.
   * 
   * @param src - The source URL of the splat asset.
   * @param props - Additional properties to pass to the asset loader.
   * @returns An object containing the asset, loading state, and any error.
   */
  export const useSplat = (
    src: string, 
    props: Record<string, unknown> = {}
  ): AssetResult => 
    useAsset(src, 'gsplat', props);
  `}
/>

#### Example

```tsx
const { asset, loading, error } = useSplat('splat.ply');

if (loading) return <LoadingSpinner />;
if (error) return <ErrorMessage message={error} />;
if (!asset) return null;

return <GSplat asset={asset} />;
```

### useTexture

A specialized hook for loading texture assets.

```tsx
const { asset, loading, error } = useTexture(src, props);
```

<TSDoc
  code={`
  import { Asset } from 'playcanvas';
  
  /**
   * Result of an asset loading operation
   */
  export interface AssetResult {
    /** The loaded asset, or null if not loaded or failed */
    asset: Asset | null;
    /** Whether the asset is currently loading */
    loading: boolean;
    /** Error message if loading failed, or null if successful */
    error: string | null;
  }
  
  /**
   * Simple hook to fetch a texture asset from the asset registry.
   * 
   * @param src - The source URL of the texture asset.
   * @param props - Additional properties to pass to the asset loader.
   * @returns An object containing the asset, loading state, and any error.
   */
  export const useTexture = (
    src: string, 
    props: Record<string, unknown> = {}
  ): AssetResult => 
    useAsset(src, 'texture', props);
  `}
/>

#### Example

```tsx
const { asset, loading, error } = useTexture('texture.jpg');

if (loading) return <LoadingSpinner />;
if (error) return <ErrorMessage message={error} />;
if (!asset) return null;

return <Material map={asset.resource} />;
```

### useEnvAtlas

A specialized hook for loading environment atlas textures.

```tsx
const { asset, loading, error } = useEnvAtlas(src, props);
```

<TSDoc
  code={`
  import { Asset, TEXTURETYPE_RGBP } from 'playcanvas';
  
  /**
   * Result of an asset loading operation
   */
  export interface AssetResult {
    /** The loaded asset, or null if not loaded or failed */
    asset: Asset | null;
    /** Whether the asset is currently loading */
    loading: boolean;
    /** Error message if loading failed, or null if successful */
    error: string | null;
  }
  
  /**
   * Simple hook to load an environment atlas texture asset.
   * 
   * @param src - The source URL of the environment atlas texture.
   * @param props - Additional properties to pass to the asset loader.
   * @returns An object containing the asset, loading state, and any error.
   */
  export const useEnvAtlas = (
    src: string, 
    props: Record<string, unknown> = {}
  ): AssetResult => 
    useAsset(src, 'texture', { type: TEXTURETYPE_RGBP, mipmaps: false, ...props });
  `}
/>

#### Example

```tsx
const { asset, loading, error } = useEnvAtlas('env.jpg');

if (loading) return <LoadingSpinner />;
if (error) return <ErrorMessage message={error} />;
if (!asset) return null;

return <EnvAtlas asset={asset} />;
```

### useModel

A specialized hook for loading 3D model assets (GLB/GLTF).

```tsx
const { asset, loading, error } = useModel(src, props);
```

<TSDoc
  code={`
  import { Asset } from 'playcanvas';
  
  /**
   * Result of an asset loading operation
   */
  export interface AssetResult {
    /** The loaded asset, or null if not loaded or failed */
    asset: Asset | null;
    /** Whether the asset is currently loading */
    loading: boolean;
    /** Error message if loading failed, or null if successful */
    error: string | null;
  }
  
  /**
   * Simple hook to load a 3D model asset (GLB/GLTF).
   * 
   * @param src - The source URL of the 3D model.
   * @param props - Additional properties to pass to the asset loader.
   * @returns An object containing the asset, loading state, and any error.
   */
  export const useModel = (
    src: string, 
    props: Record<string, unknown> = {}
  ): AssetResult => 
    useAsset(src, 'container', props);
  `}
/>

#### Example

```tsx
const { asset, loading, error } = useModel('model.glb');

if (loading) return <LoadingSpinner />;
if (error) return <ErrorMessage message={error} />;
if (!asset) return null;

return <Container asset={asset} />;
```

## Advanced Usage

### Loading Multiple Assets

You can load multiple assets in parallel:

```tsx
const modelResult = useModel('character.glb');
const textureResult = useTexture('character-texture.jpg');

// Check if any asset is still loading
if (modelResult.loading || textureResult.loading) return <LoadingSpinner />;

// Check for errors
if (modelResult.error) return <ErrorMessage message={modelResult.error} />;
if (textureResult.error) return <ErrorMessage message={textureResult.error} />;

// Use the assets
return (
    <Container asset={modelResult.asset}>
        <Material map={textureResult.asset.resource} />
    </Container>
);
```

### Asset Props

You can pass additional properties to customize how assets are loaded:

```tsx
// Load a texture with specific settings
const { asset } = useTexture('texture.jpg', {
    mipmaps: true,
    anisotropy: 16,
    type: 'rgba'
});

// Load a model with specific settings
const { asset } = useModel('model.glb', {
    useMorphTargets: true,
    useInstancing: false
});
```

## Error Handling

All asset hooks return an `error` property that will contain an error message if the asset fails to load. You should always check for errors before using the asset:

```tsx
const { asset, loading, error } = useModel('model.glb');

if (loading) return <LoadingSpinner />;
if (error) return <ErrorMessage message={error} />;
if (!asset) return null;

// Safe to use the asset here
return <Container asset={asset} />;
``` 